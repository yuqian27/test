(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[445],{5445:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var c=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"view-style",style:"background-image:url("+r(7346)+")"},[c("div",{staticClass:"main-style",on:{click:function(t){return e.routerEvent("MainGame")}}},[c("i",{staticClass:"icon-back1",staticStyle:{"vertical-align":"bottom"}})]),c("div",{staticClass:"money-style"},[c("span",{staticStyle:{"margin-left":"30px",color:"#c4d1df"}},[e._v("光点 "),c("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_1))])]),c("span",{staticStyle:{"margin-left":"30px",color:"#ffd9fa"}},[e._v("樱饼 "),c("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_2))])])]),c("div",{staticClass:"shop-style"},[c("div",{staticClass:"shop-left"},[c("div",{staticClass:"shop-type-1",style:"line-height:"+e.lineHeight.lh1+"px"+(1==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-1"},on:{click:function(t){return e.tabEvent(1)}}},[e._v("卡牌")]),c("div",{staticClass:"shop-type-2",style:"line-height:"+e.lineHeight.lh1+"px"+(2==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-2"},on:{click:function(t){return e.tabEvent(2)}}},[e._v("背景图")]),c("div",{staticClass:"shop-type-3",style:"line-height:"+e.lineHeight.lh1+"px"+(3==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-3"},on:{click:function(t){return e.tabEvent(3)}}},[e._v("卡牌装饰")])]),c("div",{staticClass:"shop-right"},[1==e.currentTab?c("div",{ref:"shop-item-id1",staticClass:"shop-item-1",attrs:{id:"shop-item-id1"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopDeckList,(function(t,r){return c("div",{key:t.id,staticClass:"shop-deck-style"},[c("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.backImageTop+"),url("+t.backImageBottom+")"}),c("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(c){return e.buyDeckEvent(c,t,r)}}},[e._v(e._s(t.price+t.currency.type))]),c("div",{staticClass:"shop-deck-item-3",style:"background-image:url("+t.camp+")"}),c("div",{staticClass:"shop-deck-item-4"})])})),0):e._e(),2==e.currentTab?c("div",{ref:"shop-item-id2",staticClass:"shop-item-2",attrs:{id:"shop-item-id2"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopBackList,(function(t,r){return c("div",{key:t.id,staticClass:"shop-deck-style"},[c("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.imgUrl+")"}),c("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(c){return e.buyDeckBackEvent(c,t,r)}}},[e._v(e._s(t.price+t.currency.type))])])})),0):e._e(),3==e.currentTab?c("div",{ref:"shop-item-id3",staticClass:"shop-item-3",attrs:{id:"shop-item-id3"},on:{mousewheel:e.shopRightWheelEvent}}):e._e()])])])},n=[],s=(r(1539),r(4747),r(1190)),i=(r(1051),r(6955)),a=r(4806),o=r.n(a),u={name:"ShopDeck",data:function(){return{lineHeight:{lh1:0},shopDeckList:[],shopBackList:[],currentTab:1,currentBorder:{borderTop:"2px solid honeydew",borderBottom:"2px solid honeydew",borderLeft:"2px solid honeydew"}}},computed:{currentArchive:function(){return this.$store.state.archive.archive}},mounted:function(){this.lineHeightInit(),this.getDeckList()},methods:{routerEvent:function(e){this.$router.push({name:e})},lineHeightInit:function(){var e=document.getElementById("shop-type-1");this.lineHeight.lh1=e.offsetHeight},getDeckList:function(){var e=this;(0,s.B$)().then((function(t){var r=t,c=e.$store.state.archive.archive;0==c.own_cards.length?e.shopDeckList=o().cloneDeep(r):c.own_cards.length<t.length?(c.own_cards.forEach((function(e,t){o().remove(r,(function(t){return t.id==e}))})),e.shopDeckList=o().cloneDeep(r)):c.own_cards.length==t.length&&(e.shopDeckList=[])}))},getDeckBackList:function(){var e=this;(0,s.Z3)().then((function(t){var r=t,c=e.$store.state.archive.archive;0==c.unlock_background.length?e.shopBackList=o().cloneDeep(r):c.unlock_background.length<t.length?(c.unlock_background.forEach((function(e,t){o().remove(r,(function(t){return t.id==e}))})),e.shopBackList=o().cloneDeep(r)):c.own_cards.length==t.length&&(e.shopBackList=[])}))},shopRightWheelEvent:function(e){e.wheelDelta<0&&this.$refs["shop-item-id".concat(this.currentTab)].scrollWidth-this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft>24&&(this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft=this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft+20),e.wheelDelta>0&&this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft>0&&(this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft=this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft-20)},buyDeckEvent:function(e,t,r){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var c=this.$store.state.archive.archive;c.own_cards.push(t.id),c.property[t.currency.category]=c.property[t.currency.category]-t.price,this.$store.dispatch("Archive",c),(0,i.pi)(),o().pullAt(this.shopDeckList,r)}},buyDeckBackEvent:function(e,t,r){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var c=this.$store.state.archive.archive;c.unlock_background.push(t.id),c.property[t.currency.category]=c.property[t.currency.category]-t.price,this.$store.dispatch("Archive",c),(0,i.pi)(),o().pullAt(this.shopBackList,r)}},tabEvent:function(e){switch(e){case 1:this.currentTab=1,this.getDeckList();break;case 2:this.currentTab=2,this.getDeckBackList();break;case 3:this.currentTab=3;break;default:break}}}},p=u,l=r(1001),h=(0,l.Z)(p,c,n,!1,null,"4e13c37c",null),f=h.exports},1190:function(e,t,r){"use strict";r.d(t,{B$:function(){return u},Z3:function(){return l}});var c=r(124),n=r(8534),s=(r(1539),r(2472),r(8675),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(4141),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(4747),r(6265)),i=r.n(s);r(4806);function a(e){switch(e){case 1:return{type:"光点",color:"#c4d1df",category:"type_1"};case 2:return{type:"樱饼",color:"#ffd9fa",category:"type_2"};default:break}}function o(e){switch(e){case 1:return"N";case 2:return"R";case 3:return"SR";case 4:return"SSR";case 5:return"UR";default:break}}function u(){return p.apply(this,arguments)}function p(){return p=(0,n.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,i().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((function(e){var c=r(7092),n=new Uint8Array(e.data),s=c.read(n,{type:"array"}),i=s.Sheets,u=c.utils.sheet_to_json(i.PeopleDeck);u.forEach((function(e,c){var n=r(6407)("./"+e.backImageTop+".png"),s=r(6274)("./deck_back_"+e.backImageBottom+"_a.png"),i=null;"null"!=e.backImageDecorate&&(i=r(1915)("./decorate_"+e.backImageDecorate+".png"));var u=r(9077)("./back_"+e.camp+".png");t.push({id:e.id,backImageTop:n,backImageBottom:s,backImageDecorate:i,camp:u,price:e.price,currency:a(e.currency),chineseName:e.chineseName,foreignName:e.foreignName,deckLv:o(e.deckLv),audio:e.audio})}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function l(){return h.apply(this,arguments)}function h(){return h=(0,n.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,i().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((function(e){var c=r(7092),n=new Uint8Array(e.data),s=c.read(n,{type:"array"}),i=s.Sheets,o=c.utils.sheet_to_json(i.CardBack);o.forEach((function(e,c){t.push({id:e.id,imgUrl:r(6274)("./deck_back_".concat(e.id,"_a.png")),price:e.price,currency:a(e.currency)})}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},6274:function(e,t,r){var c={"./deck_back_10_a.png":3205,"./deck_back_11_a.png":1986,"./deck_back_12_a.png":4160,"./deck_back_1_a.png":9377,"./deck_back_2_a.png":2614,"./deck_back_3_a.png":9372,"./deck_back_4_a.png":6523,"./deck_back_5_a.png":1082,"./deck_back_6_a.png":8939,"./deck_back_7_a.png":6056,"./deck_back_8_a.png":4314,"./deck_back_9_a.png":5579};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=s,e.exports=n,n.id=6274},1915:function(e,t,r){var c={"./decorate_1.png":3228};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=s,e.exports=n,n.id=1915},9077:function(e,t,r){var c={"./back_1.png":8248,"./back_2.png":9383};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=s,e.exports=n,n.id=9077},6407:function(e,t,r){var c={"./1.png":3337,"./2.png":9734,"./3.png":7148,"./4.png":600,"./甘露寺蜜璃.png":2141,"./祢豆子.png":5163,"./蝴蝶忍.png":4367,"./蝴蝶香奈惠.png":9668};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=s,e.exports=n,n.id=6407},3205:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_10_a.ffa370da.png"},1986:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_11_a.29e8f23f.png"},4160:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_12_a.cc2c367e.png"},9377:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_1_a.f18cad47.png"},2614:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_2_a.c5e7b9fe.png"},9372:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_3_a.1646de81.png"},1082:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_5_a.6a4fd026.png"},8939:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_6_a.a333af61.png"},6056:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_7_a.30202d6e.png"},4314:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_8_a.07b22796.png"},5579:function(e,t,r){"use strict";e.exports=r.p+"assets/img/deck_back_9_a.fc5de2fb.png"},3228:function(e,t,r){"use strict";e.exports=r.p+"assets/img/decorate_1.455cfa16.png"},8248:function(e,t,r){"use strict";e.exports=r.p+"assets/img/back_1.b8ccc652.png"},9383:function(e,t,r){"use strict";e.exports=r.p+"assets/img/back_2.3e208550.png"},3337:function(e,t,r){"use strict";e.exports=r.p+"assets/img/1.7e4ff2b6.png"},9734:function(e,t,r){"use strict";e.exports=r.p+"assets/img/2.d526a36c.png"},7148:function(e,t,r){"use strict";e.exports=r.p+"assets/img/3.457acb70.png"},600:function(e,t,r){"use strict";e.exports=r.p+"assets/img/4.aeeb5553.png"},2141:function(e,t,r){"use strict";e.exports=r.p+"assets/img/甘露寺蜜璃.7e4ff2b6.png"},5163:function(e,t,r){"use strict";e.exports=r.p+"assets/img/祢豆子.aeeb5553.png"},4367:function(e,t,r){"use strict";e.exports=r.p+"assets/img/蝴蝶忍.d526a36c.png"},9668:function(e,t,r){"use strict";e.exports=r.p+"assets/img/蝴蝶香奈惠.457acb70.png"}}]);
//# sourceMappingURL=445-legacy.d6663d9e.js.map