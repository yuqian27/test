(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[445],{5445:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[r("div",{staticClass:"main-style",on:{click:function(t){return e.routerEvent("MainGame")}}},[r("i",{staticClass:"icon-back1",staticStyle:{"vertical-align":"bottom"}})]),r("div",{staticClass:"money-style"},[r("span",{staticStyle:{"margin-left":"30px",color:"#c4d1df"}},[e._v("光点 "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_1))])]),r("span",{staticStyle:{"margin-left":"30px",color:"#ffd9fa"}},[e._v("樱饼 "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_2))])])]),r("div",{staticClass:"shop-style"},[r("div",{staticClass:"shop-left"},[r("div",{staticClass:"shop-type-1",style:"line-height:"+e.lineHeight.lh1+"px"+(1==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-1"},on:{click:function(t){return e.tabEvent(1)}}},[e._v("卡牌")]),r("div",{staticClass:"shop-type-2",style:"line-height:"+e.lineHeight.lh1+"px"+(2==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-2"},on:{click:function(t){return e.tabEvent(2)}}},[e._v("背景图")]),r("div",{staticClass:"shop-type-3",style:"line-height:"+e.lineHeight.lh1+"px"+(3==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-3"},on:{click:function(t){return e.tabEvent(3)}}},[e._v("卡牌装饰")])]),r("div",{staticClass:"shop-right"},[1==e.currentTab?r("div",{ref:"shop-item-id1",staticClass:"shop-item-1",attrs:{id:"shop-item-id1"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopDeckList,(function(t,s){return r("div",{key:t.id,staticClass:"shop-deck-style"},[r("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.backImageTop+"),url("+t.backImageBottom+")"}),r("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(r){return e.buyDeckEvent(r,t,s)}}},[e._v(e._s(t.price+t.currency.type))]),r("div",{staticClass:"shop-deck-item-3",style:"background-image:url("+t.camp+")"}),r("div",{staticClass:"shop-deck-item-4"})])})),0):e._e(),2==e.currentTab?r("div",{ref:"shop-item-id2",staticClass:"shop-item-2",attrs:{id:"shop-item-id2"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopBackList,(function(t,s){return r("div",{key:t.id,staticClass:"shop-deck-style"},[r("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.imgUrl+")"}),r("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(r){return e.buyDeckBackEvent(r,t,s)}}},[e._v(e._s(t.price+t.currency.type))])])})),0):e._e(),3==e.currentTab?r("div",{ref:"shop-item-id3",staticClass:"shop-item-3",attrs:{id:"shop-item-id3"},on:{mousewheel:e.shopRightWheelEvent}}):e._e()])])])},c=[],n=s(1190),i=(s(1051),s(6955)),a=s(4806),o=s.n(a),p={name:"ShopDeck",data(){return{lineHeight:{lh1:0},shopDeckList:[],shopBackList:[],currentTab:1,currentBorder:{borderTop:"2px solid honeydew",borderBottom:"2px solid honeydew",borderLeft:"2px solid honeydew"}}},computed:{currentArchive(){return this.$store.state.archive.archive}},mounted(){this.lineHeightInit(),this.getDeckList()},methods:{routerEvent(e){this.$router.push({name:e})},lineHeightInit(){const e=document.getElementById("shop-type-1");this.lineHeight.lh1=e.offsetHeight},getDeckList(){(0,n.B$)().then((e=>{var t=e,s=this.$store.state.archive.archive;0==s.own_cards.length?this.shopDeckList=o().cloneDeep(t):s.own_cards.length<e.length?(s.own_cards.forEach(((e,s)=>{o().remove(t,(t=>t.id==e))})),this.shopDeckList=o().cloneDeep(t)):s.own_cards.length==e.length&&(this.shopDeckList=[])}))},getDeckBackList(){(0,n.Z3)().then((e=>{var t=e,s=this.$store.state.archive.archive;0==s.unlock_background.length?this.shopBackList=o().cloneDeep(t):s.unlock_background.length<e.length?(s.unlock_background.forEach(((e,s)=>{o().remove(t,(t=>t.id==e))})),this.shopBackList=o().cloneDeep(t)):s.own_cards.length==e.length&&(this.shopBackList=[])}))},shopRightWheelEvent(e){e.wheelDelta<0&&this.$refs[`shop-item-id${this.currentTab}`].scrollWidth-this.$refs[`shop-item-id${this.currentTab}`].scrollLeft>24&&(this.$refs[`shop-item-id${this.currentTab}`].scrollLeft=this.$refs[`shop-item-id${this.currentTab}`].scrollLeft+20),e.wheelDelta>0&&this.$refs[`shop-item-id${this.currentTab}`].scrollLeft>0&&(this.$refs[`shop-item-id${this.currentTab}`].scrollLeft=this.$refs[`shop-item-id${this.currentTab}`].scrollLeft-20)},buyDeckEvent(e,t,s){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var r=this.$store.state.archive.archive;r.own_cards.push(t.id),r.property[t.currency.category]=r.property[t.currency.category]-t.price,this.$store.dispatch("Archive",r),(0,i.pi)(),o().pullAt(this.shopDeckList,s)}},buyDeckBackEvent(e,t,s){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var r=this.$store.state.archive.archive;r.unlock_background.push(t.id),r.property[t.currency.category]=r.property[t.currency.category]-t.price,this.$store.dispatch("Archive",r),(0,i.pi)(),o().pullAt(this.shopBackList,s)}},tabEvent(e){switch(e){case 1:this.currentTab=1,this.getDeckList();break;case 2:this.currentTab=2,this.getDeckBackList();break;case 3:this.currentTab=3;break;default:break}}}},u=p,l=s(1001),h=(0,l.Z)(u,r,c,!1,null,"4e13c37c",null),d=h.exports},1190:function(e,t,s){"use strict";s.d(t,{B$:function(){return a},Z3:function(){return o}});s(8675),s(3462);var r=s(6265),c=s.n(r);s(4806);function n(e){switch(e){case 1:return{type:"光点",color:"#c4d1df",category:"type_1"};case 2:return{type:"樱饼",color:"#ffd9fa",category:"type_2"};default:break}}function i(e){switch(e){case 1:return"N";case 2:return"R";case 3:return"SR";case 4:return"SSR";case 5:return"UR";default:break}}async function a(){var e=[];return await c().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((t=>{const r=s(7092);var c=new Uint8Array(t.data),a=r.read(c,{type:"array"}),o=a.Sheets,p=r.utils.sheet_to_json(o.PeopleDeck);p.forEach(((t,r)=>{const c=s(6407)("./"+t.backImageTop+".png"),a=s(6274)("./deck_back_"+t.backImageBottom+"_a.png");let o=null;"null"!=t.backImageDecorate&&(o=s(1915)("./decorate_"+t.backImageDecorate+".png"));const p=s(9077)("./back_"+t.camp+".png");e.push({id:t.id,backImageTop:c,backImageBottom:a,backImageDecorate:o,camp:p,price:t.price,currency:n(t.currency),chineseName:t.chineseName,foreignName:t.foreignName,deckLv:i(t.deckLv),audio:t.audio})}))})),e}async function o(){var e=[];return await c().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((t=>{const r=s(7092);var c=new Uint8Array(t.data),i=r.read(c,{type:"array"}),a=i.Sheets,o=r.utils.sheet_to_json(a.CardBack);o.forEach(((t,r)=>{e.push({id:t.id,imgUrl:s(6274)(`./deck_back_${t.id}_a.png`),price:t.price,currency:n(t.currency)})}))})),e}},6274:function(e,t,s){var r={"./deck_back_10_a.png":3205,"./deck_back_11_a.png":1986,"./deck_back_12_a.png":4160,"./deck_back_1_a.png":9377,"./deck_back_2_a.png":2614,"./deck_back_3_a.png":9372,"./deck_back_4_a.png":6523,"./deck_back_5_a.png":1082,"./deck_back_6_a.png":8939,"./deck_back_7_a.png":6056,"./deck_back_8_a.png":4314,"./deck_back_9_a.png":5579};function c(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=6274},1915:function(e,t,s){var r={"./decorate_1.png":3228};function c(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=1915},9077:function(e,t,s){var r={"./back_1.png":8248,"./back_2.png":9383};function c(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=9077},6407:function(e,t,s){var r={"./1.png":3337,"./2.png":9734,"./3.png":7148,"./4.png":600,"./甘露寺蜜璃.png":2141,"./祢豆子.png":5163,"./蝴蝶忍.png":4367,"./蝴蝶香奈惠.png":9668};function c(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=6407},3205:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_10_a.ffa370da.png"},1986:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_11_a.29e8f23f.png"},4160:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_12_a.cc2c367e.png"},9377:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_1_a.f18cad47.png"},2614:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_2_a.c5e7b9fe.png"},9372:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_3_a.1646de81.png"},1082:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_5_a.6a4fd026.png"},8939:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_6_a.a333af61.png"},6056:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_7_a.30202d6e.png"},4314:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_8_a.07b22796.png"},5579:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_9_a.fc5de2fb.png"},3228:function(e,t,s){"use strict";e.exports=s.p+"assets/img/decorate_1.455cfa16.png"},8248:function(e,t,s){"use strict";e.exports=s.p+"assets/img/back_1.b8ccc652.png"},9383:function(e,t,s){"use strict";e.exports=s.p+"assets/img/back_2.3e208550.png"},3337:function(e,t,s){"use strict";e.exports=s.p+"assets/img/1.7e4ff2b6.png"},9734:function(e,t,s){"use strict";e.exports=s.p+"assets/img/2.d526a36c.png"},7148:function(e,t,s){"use strict";e.exports=s.p+"assets/img/3.457acb70.png"},600:function(e,t,s){"use strict";e.exports=s.p+"assets/img/4.aeeb5553.png"},2141:function(e,t,s){"use strict";e.exports=s.p+"assets/img/甘露寺蜜璃.7e4ff2b6.png"},5163:function(e,t,s){"use strict";e.exports=s.p+"assets/img/祢豆子.aeeb5553.png"},4367:function(e,t,s){"use strict";e.exports=s.p+"assets/img/蝴蝶忍.d526a36c.png"},9668:function(e,t,s){"use strict";e.exports=s.p+"assets/img/蝴蝶香奈惠.457acb70.png"}}]);
//# sourceMappingURL=445.a8976358.js.map