(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[318],{5318:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[a("div",{staticClass:"main-style",on:{click:function(t){return e.routerEvent("MainGame")}}},[a("i",{staticClass:"icon-back1",staticStyle:{"vertical-align":"bottom"}})]),e.deckShow?a("div",{staticClass:"deck-style",attrs:{id:"deck-id"},on:{mouseleave:e.deckLeaveEvent}},[a("div",{ref:"deck-model",staticClass:"deck-model-style",style:e.style,attrs:{id:"deck-model-id"},on:{mousemove:e.deckModelMoveEvent,mouseover:e.deckModelOverEvent}},[a("div",{ref:"model-after",staticClass:"model-after-style"})])]):e._e(),a("div",{staticClass:"deck-list-style",attrs:{id:"deck-list-id"}},e._l(e.dataList,(function(t){return a("div",{key:t.id,staticClass:"list-item-style",style:"background-image:url("+t.backImageTop+"),url("+t.backImageBottom+")",attrs:{id:"list-item-"+t.id},on:{click:function(s){return e.deckClickEvent(t)}}})})),0),a("div",{staticClass:"deck-history-style",attrs:{id:"deck-history-id"}},[e.deckShow?a("div",{staticClass:"deck-history-item1"},[e._v(e._s(e.deckDetails.chineseName)+" «"),a("span",{staticClass:"lv-style",staticStyle:{color:"#c4d1df"}},[e._v(e._s(e.deckDetails.deckLv))]),e._v("»"),a("br"),e._v(e._s(e.deckDetails.foreignName))]):e._e(),e.deckShow?a("div",{staticClass:"deck-history-item2",style:"background-image:url("+s(6383)+")"}):e._e(),e.deckShow?a("div",{staticClass:"deck-history-item3"},[a("div",{staticClass:"switch-info-prev"},[e._v("《")]),a("div",{staticClass:"switch-info"}),a("div",{staticClass:"switch-info-next"},[e._v("》")])]):e._e()]),a("div",{staticClass:"switch-back-style"},[a("span",{staticClass:"switch-back-prev",style:"visibility:"+(0==e.switchBackList.id?"hidden":"visible"),on:{click:function(t){return e.switchBack("prev")}}},[e._v("《")]),e._l(e.switchBackList.data[e.switchBackList.id],(function(t){return a("div",{key:t.id,staticClass:"switch-back-item",style:"background-image:url("+t.imgUrl+")",attrs:{id:"switch-back-item-"+t.id},on:{click:function(s){return e.deckChangeEvent(t)}}})})),a("span",{staticClass:"switch-back-next",style:"visibility:"+(0==e.switchBackList.data||e.switchBackList.data.length-1==e.switchBackList.id?"hidden":"visible"),on:{click:function(t){return e.switchBack("next")}}},[e._v("》")])],2)])},c=[],i=s(1190),n=s(4806),r=s.n(n),o={name:"MainDeck",data(){return{dataList:[],deckDetails:{},deckShow:!1,switchBackList:{id:0,data:[]},style:{}}},mounted(){this.getDeckList(),this.pictureAddressing()},methods:{routerEvent(e){this.$router.push({name:e})},deckModelMoveEvent(e){const t=this.$refs["deck-model"],s=this.$refs["model-after"],a=function(e,t){return Number((e/t*40-20).toFixed(1))},c=a(e.offsetY,t.offsetHeight),i=a(e.offsetX,t.offsetWidth),n=(e.offsetX+1)/t.offsetWidth,r=(e.offsetY+1)/t.offsetHeight,o=`rotateX(${-30*(r-.5)}deg)`,d=`rotateY(${30*(n-.5)}deg)`;t.style.transform=`perspective(1500px) ${d} ${o}`,t.style.backgroundPosition=`${null==this.deckDetails.backImageDecorate?"":"0% 100%,"}calc(50% + ${-i}px) ${c}px,50% 50%`;const u=this.scale(n,0,1,150,-50),l=this.scale(r,0,1,30,-100),k=Math.min(Math.max(r,.3),.7),p=255*this.scale(k,.3,1,1,0),f=`rgba(${p}, ${p}, ${p}, 1)`,g="rgba(255, 255, 255, 0)";s.style.backgroundImage=`radial-gradient(circle at ${null==this.deckDetails.backImageDecorate?"":"0% 100%, "}${u}% ${l}%, ${f} 20%, ${g})`},deckLeaveEvent(e){const t=this.$refs["deck-model"],s=this.$refs["model-after"];t.style.transform="",t.style.backgroundPosition=(null==this.deckDetails.backImageDecorate?"":"0% 100%,")+"50% 0px,50% 50%",s.style.opacity=0},deckModelOverEvent(){const e=this.$refs["model-after"];e.style.opacity=1},getDeckList(){var e=this.$store.state.archive.archive;if(0==e.own_cards.length)return"";(0,i.B$)().then((t=>{let s=t,a={};e.own_cards.length==t.length?this.dataList=r().cloneDeep(s):e.own_cards.length<t.length&&e.own_cards.forEach(((e,t)=>{a=r().cloneDeep(s[r().findIndex(s,(t=>t.id==e))]),this.dataList.push(a)}))}))},deckClickEvent(e){if(this.deckShow=!0,this.deckDetails.id&&this.deckDetails.id==e.id)return!1;this.deckDetails={},this.deckDetails=r().cloneDeep(e),this.style={backgroundImage:`${null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),"}url(${this.deckDetails.backImageTop}),url(${this.deckDetails.backImageBottom})`,backgroundSize:(null==this.deckDetails.backImageDecorate?"":"contain,")+"cover,cover",backgroundPosition:(null==this.deckDetails.backImageDecorate?"":"0% 100%,")+"50% 0px,50% 50%"},this.palyAudio(e.audio)},palyAudio(e){if("null"==e)return this.audio&&this.audio.pause(),!1;var t=s(1532)("./"+e+".mp3");this.audio=new Audio,this.audio.src=t,this.audio.play()},pictureAddressing(){var e=this.$store.state.archive.archive;if(0==e.unlock_background.length)return"";(0,i.Z3)().then((t=>{let s=t,a=[],c={};e.unlock_background.length==t.length?this.switchBackList.data=r().chunk(s,3):e.unlock_background.length<t.length&&(e.unlock_background.forEach(((e,t)=>{c=r().cloneDeep(s[r().findIndex(s,(t=>t.id==e))]),a.push(c)})),this.switchBackList.data=r().chunk(a,3))}))},switchBack(e){switch(e){case"prev":this.switchBackList.id--;break;case"next":this.switchBackList.id++;break;default:break}},deckChangeEvent(e){if(0==this.deckShow)return!1;this.$refs["deck-model"].style.backgroundImage=`${null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),"}url(${this.deckDetails.backImageTop}),url(${e.imgUrl})`},scale:(e,t,s,a,c)=>a+(e-t)*(c-a)/(s-t)}},d=o,u=s(1001),l=(0,u.Z)(d,a,c,!1,null,"60786c33",null),k=l.exports},1190:function(e,t,s){"use strict";s.d(t,{B$:function(){return r},Z3:function(){return o}});s(8675),s(3462);var a=s(6265),c=s.n(a);s(4806);function i(e){switch(e){case 1:return{type:"光点",color:"#c4d1df",category:"type_1"};case 2:return{type:"樱饼",color:"#ffd9fa",category:"type_2"};default:break}}function n(e){switch(e){case 1:return"N";case 2:return"R";case 3:return"SR";case 4:return"SSR";case 5:return"UR";default:break}}async function r(){var e=[];return await c().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((t=>{const a=s(7092);var c=new Uint8Array(t.data),r=a.read(c,{type:"array"}),o=r.Sheets,d=a.utils.sheet_to_json(o.PeopleDeck);d.forEach(((t,a)=>{const c=s(6407)("./"+t.backImageTop+".png"),r=s(6274)("./deck_back_"+t.backImageBottom+"_a.png");let o=null;"null"!=t.backImageDecorate&&(o=s(1915)("./decorate_"+t.backImageDecorate+".png"));const d=s(9077)("./back_"+t.camp+".png");e.push({id:t.id,backImageTop:c,backImageBottom:r,backImageDecorate:o,camp:d,price:t.price,currency:i(t.currency),chineseName:t.chineseName,foreignName:t.foreignName,deckLv:n(t.deckLv),audio:t.audio})}))})),e}async function o(){var e=[];return await c().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((t=>{const a=s(7092);var c=new Uint8Array(t.data),n=a.read(c,{type:"array"}),r=n.Sheets,o=a.utils.sheet_to_json(r.CardBack);o.forEach(((t,a)=>{e.push({id:t.id,imgUrl:s(6274)(`./deck_back_${t.id}_a.png`),price:t.price,currency:i(t.currency)})}))})),e}},1532:function(e,t,s){var a={"./Childhood Dreams.mp3":2103,"./Where Is the Love.mp3":6313,"./Zombies On Your Lawn.mp3":3528,"./bgm/Flop.mp3":3423,"./button04a.mp3":980,"./蝴蝶忍.mp3":6101};function c(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=1532},6274:function(e,t,s){var a={"./deck_back_10_a.png":3205,"./deck_back_11_a.png":1986,"./deck_back_12_a.png":4160,"./deck_back_1_a.png":9377,"./deck_back_2_a.png":2614,"./deck_back_3_a.png":9372,"./deck_back_4_a.png":6523,"./deck_back_5_a.png":1082,"./deck_back_6_a.png":8939,"./deck_back_7_a.png":6056,"./deck_back_8_a.png":4314,"./deck_back_9_a.png":5579};function c(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=6274},1915:function(e,t,s){var a={"./decorate_1.png":3228};function c(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=1915},9077:function(e,t,s){var a={"./back_1.png":8248,"./back_2.png":9383};function c(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=9077},6407:function(e,t,s){var a={"./1.png":3337,"./2.png":9734,"./3.png":7148,"./4.png":600,"./甘露寺蜜璃.png":2141,"./祢豆子.png":5163,"./蝴蝶忍.png":4367,"./蝴蝶香奈惠.png":9668};function c(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=6407},2103:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Childhood Dreams.4d2e7a45.mp3"},3528:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Zombies On Your Lawn.3e611a48.mp3"},3423:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Flop.e0428d40.mp3"},980:function(e,t,s){"use strict";e.exports=s.p+"assets/media/button04a.f35762b0.mp3"},6101:function(e,t,s){"use strict";e.exports=s.p+"assets/media/蝴蝶忍.13eb70aa.mp3"},3205:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_10_a.ffa370da.png"},1986:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_11_a.29e8f23f.png"},4160:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_12_a.cc2c367e.png"},9377:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_1_a.f18cad47.png"},2614:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_2_a.c5e7b9fe.png"},9372:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_3_a.1646de81.png"},1082:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_5_a.6a4fd026.png"},8939:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_6_a.a333af61.png"},6056:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_7_a.30202d6e.png"},4314:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_8_a.07b22796.png"},5579:function(e,t,s){"use strict";e.exports=s.p+"assets/img/deck_back_9_a.fc5de2fb.png"},3228:function(e,t,s){"use strict";e.exports=s.p+"assets/img/decorate_1.455cfa16.png"},6383:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAAAgCAMAAAC4uDRgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFdQTFRFAAAAzaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4yR7tagAAAB10Uk5TABA/b18ggK/P/+9Pv58wUJDff+BgoEDwcMDQsI9JiJEnAAADA0lEQVR4nO1Yi5KjIBAMqChEQRFFTP7/Ow8YfG5C6upus17Ortpd5ZEMbffMuJfLiRMnTpw48SdAGOMkxTj76UB+EJmlILE8xFcRtL7DSV7QGSy/fmeAh0Was4WEskr4ehKJ5bpuUqAvu8oSlre18Mu56mjTvzHoY0A0upsJaEFFpcSBJcnIsnSwc0VZljPXZk1X1lH1zsAPgIpuzKja2YeWJWfLFT9I0zX0sPssRfcjn41K771GNgTRcU0tn6jVo/2Z7O3SJVwpWlTJi8T5GUA4qZogLITlnOqUo2zSWMu3mxS5mRsRbk3wqGTamLaBO+M3Fbm8vi6/nL9c8n7g10Hxq8wbf87O3ys2GqObUBtcauuFZakjz5KYzXoGriowr4KnIFaaLS2Fz1Uo7Pc3R6NPsGhQ2NK2ajCoF8jgvYsIrWCRNWcR/RI17byQybwD7KB7sLKS6dc2MPNFh6H9+I8io4+D4jiVVcn2Rxv9JAuS4xqUJrZ14ivMtBMx5XRrfyOKwsxj2Ppzl66VBFQwesdHQg5ByXkgkffyK2kTvPd67bTk5EoaIKed/PwEdid0MEJfvIftPsqj5H0gPAV94+lonG7BhHXct5xOyiQGqDRA41PyRps/Sd8v7h1g/FiNYWg0ltcCblM/6Uz7+FBeeZllws6700+c2KnIl/QzeT7TWarLOwMedp+vLWmif5DZ0Og5/Stn/muAPvZRUFnv2ozd4cCmNZMFqDBw4tiJ9BoLeb3LdIhoOsLjWqpta4iK5c2s07o7Vr2AoOpIUKgfyEqHQNHQ0tZ1HHy6j5OH7HR4l9Bb45VebXWUtn8elsLaq3BbF0gLf7u4bS/jnBNJs35Qg67F//LPKa7qTUuSsaAn28Deohtn36K2WobFwQrAd4OwpaFGRXhrsD2wjgsou9EgOa7LsBRJWn9LjMdFx5JwlRUj0GC7/+61+VBYwkdapRhf70yL+I4PxEAb1+enOTUhff1u1hI37cqEOlrtfAfQ4EqHvn10hTxx4sSJEydOfDJ+AQTON4xh8mnOAAAAAElFTkSuQmCC"},8248:function(e,t,s){"use strict";e.exports=s.p+"assets/img/back_1.b8ccc652.png"},9383:function(e,t,s){"use strict";e.exports=s.p+"assets/img/back_2.3e208550.png"},3337:function(e,t,s){"use strict";e.exports=s.p+"assets/img/1.7e4ff2b6.png"},9734:function(e,t,s){"use strict";e.exports=s.p+"assets/img/2.d526a36c.png"},7148:function(e,t,s){"use strict";e.exports=s.p+"assets/img/3.457acb70.png"},600:function(e,t,s){"use strict";e.exports=s.p+"assets/img/4.aeeb5553.png"},2141:function(e,t,s){"use strict";e.exports=s.p+"assets/img/甘露寺蜜璃.7e4ff2b6.png"},5163:function(e,t,s){"use strict";e.exports=s.p+"assets/img/祢豆子.aeeb5553.png"},4367:function(e,t,s){"use strict";e.exports=s.p+"assets/img/蝴蝶忍.d526a36c.png"},9668:function(e,t,s){"use strict";e.exports=s.p+"assets/img/蝴蝶香奈惠.457acb70.png"}}]);
//# sourceMappingURL=318.d7e5548b.js.map