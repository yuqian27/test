(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[318],{5318:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return k}});var c=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"view-style",style:"background-image:url("+a(7346)+")"},[c("div",{staticClass:"main-style",on:{click:function(e){return t.routerEvent("MainGame")}}},[c("i",{staticClass:"icon-back1",staticStyle:{"vertical-align":"bottom"}})]),t.deckShow?c("div",{staticClass:"deck-style",attrs:{id:"deck-id"},on:{mouseleave:t.deckLeaveEvent}},[c("div",{ref:"deck-model",staticClass:"deck-model-style",style:t.style,attrs:{id:"deck-model-id"},on:{mousemove:t.deckModelMoveEvent,mouseover:t.deckModelOverEvent}},[c("div",{ref:"model-after",staticClass:"model-after-style"})])]):t._e(),c("div",{staticClass:"deck-list-style",attrs:{id:"deck-list-id"}},t._l(t.dataList,(function(e){return c("div",{key:e.id,staticClass:"list-item-style",style:"background-image:url("+e.backImageTop+"),url("+e.backImageBottom+")",attrs:{id:"list-item-"+e.id},on:{click:function(a){return t.deckClickEvent(e)}}})})),0),c("div",{staticClass:"deck-history-style",attrs:{id:"deck-history-id"}},[t.deckShow?c("div",{staticClass:"deck-history-item1"},[t._v(t._s(t.deckDetails.chineseName)+" «"),c("span",{staticClass:"lv-style",staticStyle:{color:"#c4d1df"}},[t._v(t._s(t.deckDetails.deckLv))]),t._v("»"),c("br"),t._v(t._s(t.deckDetails.foreignName))]):t._e(),t.deckShow?c("div",{staticClass:"deck-history-item2",style:"background-image:url("+a(6383)+")"}):t._e(),t.deckShow?c("div",{staticClass:"deck-history-item3"},[c("div",{staticClass:"switch-info-prev"},[t._v("《")]),c("div",{staticClass:"switch-info"}),c("div",{staticClass:"switch-info-next"},[t._v("》")])]):t._e()]),c("div",{staticClass:"switch-back-style"},[c("span",{staticClass:"switch-back-prev",style:"visibility:"+(0==t.switchBackList.id?"hidden":"visible"),on:{click:function(e){return t.switchBack("prev")}}},[t._v("《")]),t._l(t.switchBackList.data[t.switchBackList.id],(function(e){return c("div",{key:e.id,staticClass:"switch-back-item",style:"background-image:url("+e.imgUrl+")",attrs:{id:"switch-back-item-"+e.id},on:{click:function(a){return t.deckChangeEvent(e)}}})})),c("span",{staticClass:"switch-back-next",style:"visibility:"+(0==t.switchBackList.data||t.switchBackList.data.length-1==t.switchBackList.id?"hidden":"visible"),on:{click:function(e){return t.switchBack("next")}}},[t._v("》")])],2)])},s=[],n=(a(9653),a(6977),a(2222),a(1539),a(4747),a(4553),a(1190)),i=a(4806),r=a.n(i),o={name:"MainDeck",data:function(){return{dataList:[],deckDetails:{},deckShow:!1,switchBackList:{id:0,data:[]},style:{}}},mounted:function(){this.getDeckList(),this.pictureAddressing()},methods:{routerEvent:function(t){this.$router.push({name:t})},deckModelMoveEvent:function(t){var e=this.$refs["deck-model"],a=this.$refs["model-after"],c=function(t,e){return Number((t/e*40-20).toFixed(1))},s=c(t.offsetY,e.offsetHeight),n=c(t.offsetX,e.offsetWidth),i=(t.offsetX+1)/e.offsetWidth,r=(t.offsetY+1)/e.offsetHeight,o="rotateX(".concat(-30*(r-.5),"deg)"),u="rotateY(".concat(30*(i-.5),"deg)");e.style.transform="perspective(1500px) ".concat(u," ").concat(o),e.style.backgroundPosition="".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","calc(50% + ").concat(-n,"px) ").concat(s,"px,50% 50%");var d=this.scale(i,0,1,150,-50),l=this.scale(r,0,1,30,-100),k=Math.min(Math.max(r,.3),.7),p=255*this.scale(k,.3,1,1,0),f="rgba(".concat(p,", ").concat(p,", ").concat(p,", 1)"),g="rgba(255, 255, 255, 0)";a.style.backgroundImage="radial-gradient(circle at ".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%, ").concat(d,"% ").concat(l,"%, ").concat(f," 20%, ").concat(g,")")},deckLeaveEvent:function(t){var e=this.$refs["deck-model"],a=this.$refs["model-after"];e.style.transform="",e.style.backgroundPosition="".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","50% 0px,50% 50%"),a.style.opacity=0},deckModelOverEvent:function(){var t=this.$refs["model-after"];t.style.opacity=1},getDeckList:function(){var t=this,e=this.$store.state.archive.archive;if(0==e.own_cards.length)return"";(0,n.B$)().then((function(a){var c=a,s={};e.own_cards.length==a.length?t.dataList=r().cloneDeep(c):e.own_cards.length<a.length&&e.own_cards.forEach((function(e,a){s=r().cloneDeep(c[r().findIndex(c,(function(t){return t.id==e}))]),t.dataList.push(s)}))}))},deckClickEvent:function(t){if(this.deckShow=!0,this.deckDetails.id&&this.deckDetails.id==t.id)return!1;this.deckDetails={},this.deckDetails=r().cloneDeep(t),this.style={backgroundImage:"".concat(null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),","url(").concat(this.deckDetails.backImageTop,"),url(").concat(this.deckDetails.backImageBottom,")"),backgroundSize:"".concat(null==this.deckDetails.backImageDecorate?"":"contain,","cover,cover"),backgroundPosition:"".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","50% 0px,50% 50%")},this.palyAudio(t.audio)},palyAudio:function(t){if("null"==t)return this.audio&&this.audio.pause(),!1;var e=a(8089)("./"+t+".mp3");this.audio=new Audio,this.audio.src=e,this.audio.play()},pictureAddressing:function(){var t=this,e=this.$store.state.archive.archive;if(0==e.unlock_background.length)return"";(0,n.Z3)().then((function(a){var c=a,s=[],n={};e.unlock_background.length==a.length?t.switchBackList.data=r().chunk(c,3):e.unlock_background.length<a.length&&(e.unlock_background.forEach((function(t,e){n=r().cloneDeep(c[r().findIndex(c,(function(e){return e.id==t}))]),s.push(n)})),t.switchBackList.data=r().chunk(s,3))}))},switchBack:function(t){switch(t){case"prev":this.switchBackList.id--;break;case"next":this.switchBackList.id++;break;default:break}},deckChangeEvent:function(t){if(0==this.deckShow)return!1;this.$refs["deck-model"].style.backgroundImage="".concat(null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),","url(").concat(this.deckDetails.backImageTop,"),url(").concat(t.imgUrl,")")},scale:function(t,e,a,c,s){return c+(t-e)*(s-c)/(a-e)}}},u=o,d=a(1001),l=(0,d.Z)(u,c,s,!1,null,"60786c33",null),k=l.exports},1190:function(t,e,a){"use strict";a.d(e,{B$:function(){return u},Z3:function(){return l}});var c=a(124),s=a(8534),n=(a(1539),a(2472),a(8675),a(2990),a(8927),a(3105),a(5035),a(4345),a(7174),a(2846),a(4731),a(7209),a(6319),a(8867),a(7789),a(3739),a(9368),a(4483),a(2056),a(4141),a(678),a(7462),a(3824),a(5021),a(2974),a(5016),a(4747),a(6265)),i=a.n(n);a(4806);function r(t){switch(t){case 1:return{type:"光点",color:"#c4d1df",category:"type_1"};case 2:return{type:"樱饼",color:"#ffd9fa",category:"type_2"};default:break}}function o(t){switch(t){case 1:return"N";case 2:return"R";case 3:return"SR";case 4:return"SSR";case 5:return"UR";default:break}}function u(){return d.apply(this,arguments)}function d(){return d=(0,s.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,i().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((function(t){var c=a(7092),s=new Uint8Array(t.data),n=c.read(s,{type:"array"}),i=n.Sheets,u=c.utils.sheet_to_json(i.PeopleDeck);u.forEach((function(t,c){var s=a(6407)("./"+t.backImageTop+".png"),n=a(6274)("./deck_back_"+t.backImageBottom+"_a.png"),i=null;"null"!=t.backImageDecorate&&(i=a(1915)("./decorate_"+t.backImageDecorate+".png"));var u=a(9077)("./back_"+t.camp+".png");e.push({id:t.id,backImageTop:s,backImageBottom:n,backImageDecorate:i,camp:u,price:t.price,currency:r(t.currency),chineseName:t.chineseName,foreignName:t.foreignName,deckLv:o(t.deckLv),audio:t.audio})}))}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function l(){return k.apply(this,arguments)}function k(){return k=(0,s.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,i().get("/GemEnum.xlsx",{responseType:"arraybuffer"}).then((function(t){var c=a(7092),s=new Uint8Array(t.data),n=c.read(s,{type:"array"}),i=n.Sheets,o=c.utils.sheet_to_json(i.CardBack);o.forEach((function(t,c){e.push({id:t.id,imgUrl:a(6274)("./deck_back_".concat(t.id,"_a.png")),price:t.price,currency:r(t.currency)})}))}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}},8089:function(t,e,a){var c={"./Childhood Dreams.mp3":2103,"./Where Is the Love.mp3":6313,"./Zombies On Your Lawn.mp3":3528,"./bgm/Flop.mp3":3423,"./button04a.mp3":980,"./蝴蝶忍.mp3":6101};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=n,t.exports=s,s.id=8089},6274:function(t,e,a){var c={"./deck_back_10_a.png":3205,"./deck_back_11_a.png":1986,"./deck_back_12_a.png":4160,"./deck_back_1_a.png":9377,"./deck_back_2_a.png":2614,"./deck_back_3_a.png":9372,"./deck_back_4_a.png":6523,"./deck_back_5_a.png":1082,"./deck_back_6_a.png":8939,"./deck_back_7_a.png":6056,"./deck_back_8_a.png":4314,"./deck_back_9_a.png":5579};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=n,t.exports=s,s.id=6274},1915:function(t,e,a){var c={"./decorate_1.png":3228};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=n,t.exports=s,s.id=1915},9077:function(t,e,a){var c={"./back_1.png":8248,"./back_2.png":9383};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=n,t.exports=s,s.id=9077},6407:function(t,e,a){var c={"./1.png":3337,"./2.png":9734,"./3.png":7148,"./4.png":600,"./甘露寺蜜璃.png":2141,"./祢豆子.png":5163,"./蝴蝶忍.png":4367,"./蝴蝶香奈惠.png":9668};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=n,t.exports=s,s.id=6407},2103:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Childhood Dreams.4d2e7a45.mp3"},3528:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Zombies On Your Lawn.3e611a48.mp3"},3423:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Flop.e0428d40.mp3"},980:function(t,e,a){"use strict";t.exports=a.p+"assets/media/button04a.f35762b0.mp3"},6101:function(t,e,a){"use strict";t.exports=a.p+"assets/media/蝴蝶忍.13eb70aa.mp3"},3205:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_10_a.ffa370da.png"},1986:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_11_a.29e8f23f.png"},4160:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_12_a.cc2c367e.png"},9377:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_1_a.f18cad47.png"},2614:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_2_a.c5e7b9fe.png"},9372:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_3_a.1646de81.png"},1082:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_5_a.6a4fd026.png"},8939:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_6_a.a333af61.png"},6056:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_7_a.30202d6e.png"},4314:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_8_a.07b22796.png"},5579:function(t,e,a){"use strict";t.exports=a.p+"assets/img/deck_back_9_a.fc5de2fb.png"},3228:function(t,e,a){"use strict";t.exports=a.p+"assets/img/decorate_1.455cfa16.png"},6383:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAAAgCAMAAAC4uDRgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFdQTFRFAAAAzaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4yR7tagAAAB10Uk5TABA/b18ggK/P/+9Pv58wUJDff+BgoEDwcMDQsI9JiJEnAAADA0lEQVR4nO1Yi5KjIBAMqChEQRFFTP7/Ow8YfG5C6upus17Ortpd5ZEMbffMuJfLiRMnTpw48SdAGOMkxTj76UB+EJmlILE8xFcRtL7DSV7QGSy/fmeAh0Was4WEskr4ehKJ5bpuUqAvu8oSlre18Mu56mjTvzHoY0A0upsJaEFFpcSBJcnIsnSwc0VZljPXZk1X1lH1zsAPgIpuzKja2YeWJWfLFT9I0zX0sPssRfcjn41K771GNgTRcU0tn6jVo/2Z7O3SJVwpWlTJi8T5GUA4qZogLITlnOqUo2zSWMu3mxS5mRsRbk3wqGTamLaBO+M3Fbm8vi6/nL9c8n7g10Hxq8wbf87O3ys2GqObUBtcauuFZakjz5KYzXoGriowr4KnIFaaLS2Fz1Uo7Pc3R6NPsGhQ2NK2ajCoF8jgvYsIrWCRNWcR/RI17byQybwD7KB7sLKS6dc2MPNFh6H9+I8io4+D4jiVVcn2Rxv9JAuS4xqUJrZ14ivMtBMx5XRrfyOKwsxj2Ppzl66VBFQwesdHQg5ByXkgkffyK2kTvPd67bTk5EoaIKed/PwEdid0MEJfvIftPsqj5H0gPAV94+lonG7BhHXct5xOyiQGqDRA41PyRps/Sd8v7h1g/FiNYWg0ltcCblM/6Uz7+FBeeZllws6700+c2KnIl/QzeT7TWarLOwMedp+vLWmif5DZ0Og5/Stn/muAPvZRUFnv2ozd4cCmNZMFqDBw4tiJ9BoLeb3LdIhoOsLjWqpta4iK5c2s07o7Vr2AoOpIUKgfyEqHQNHQ0tZ1HHy6j5OH7HR4l9Bb45VebXWUtn8elsLaq3BbF0gLf7u4bS/jnBNJs35Qg67F//LPKa7qTUuSsaAn28Deohtn36K2WobFwQrAd4OwpaFGRXhrsD2wjgsou9EgOa7LsBRJWn9LjMdFx5JwlRUj0GC7/+61+VBYwkdapRhf70yL+I4PxEAb1+enOTUhff1u1hI37cqEOlrtfAfQ4EqHvn10hTxx4sSJEydOfDJ+AQTON4xh8mnOAAAAAElFTkSuQmCC"},8248:function(t,e,a){"use strict";t.exports=a.p+"assets/img/back_1.b8ccc652.png"},9383:function(t,e,a){"use strict";t.exports=a.p+"assets/img/back_2.3e208550.png"},3337:function(t,e,a){"use strict";t.exports=a.p+"assets/img/1.7e4ff2b6.png"},9734:function(t,e,a){"use strict";t.exports=a.p+"assets/img/2.d526a36c.png"},7148:function(t,e,a){"use strict";t.exports=a.p+"assets/img/3.457acb70.png"},600:function(t,e,a){"use strict";t.exports=a.p+"assets/img/4.aeeb5553.png"},2141:function(t,e,a){"use strict";t.exports=a.p+"assets/img/甘露寺蜜璃.7e4ff2b6.png"},5163:function(t,e,a){"use strict";t.exports=a.p+"assets/img/祢豆子.aeeb5553.png"},4367:function(t,e,a){"use strict";t.exports=a.p+"assets/img/蝴蝶忍.d526a36c.png"},9668:function(t,e,a){"use strict";t.exports=a.p+"assets/img/蝴蝶香奈惠.457acb70.png"}}]);
//# sourceMappingURL=318-legacy.91fa0593.js.map